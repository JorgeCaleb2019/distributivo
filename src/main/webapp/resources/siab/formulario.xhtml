<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="bean" type="com.ecuasis.isiserp.utilidadisis.controller.SiabController" required="true"/>
        <cc:attribute name="update" required="true"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <div jsf:rendered="#{not (cc.attrs.bean.typeOfView eq 'list')}">
            <div class="ui-g-12 ui-md-12 ui-lg-12"><span style="font-size: 18px">#{cc.attrs.bean.title}</span></div>
            <div class="ui-g-12 ui-md-12 ui-lg-12">
                <p:commandButton value="#{cc.attrs.bean.persistence.name()}"  id="accion"
                                 rendered="#{not empty cc.attrs.bean.persistence.name()}"
                                 update=":mensaje #{cc.attrs.update}" styleClass="btn btn-danger"
                                 actionListener="#{cc.attrs.bean.executeAction(evt)}">
                    <p:confirm header="ConfirmaciÃ³n de #{cc.attrs.bean.persistence.name()}" message="Esta seguro que desea realizar esta AcciÃ³n" icon="ui-icon-alert" />
                </p:commandButton> 
                <p:spacer width="5"/>
                <p:splitButton value="Acciones" styleClass="blue-grey-btn" rendered="#{cc.attrs.bean.typeOfView eq 'view'}">
                    <p:menuitem value="Modificar" icon="ui-icon-pencil" actionListener="#{cc.attrs.bean.changeView('edit','')}" update="#{cc.attrs.update}"/>
                    <p:menuitem value="Anular" icon="ui-icon-close" actionListener="#{cc.attrs.bean.changeView('delete','')}" update="#{cc.attrs.update}" rendered="#{cc.attrs.bean.entidad.estado eq 'ACTIVO'}"/>
                    <p:menuitem value="Habilitar" icon="ui-icon-close" actionListener="#{cc.attrs.bean.changeView('enable','')}" update="#{cc.attrs.update}" rendered="#{cc.attrs.bean.entidad.estado eq 'ANULADO'}"/>
                </p:splitButton>
                <p:spacer width="5"/>
                <p:commandButton value="Descartar"  actionListener="#{cc.attrs.bean.changeView('list','')}" 
                                 update="#{cc.attrs.update}" immediate="true" styleClass="teal-btn"/>
                <br/>
                <br/>
                <hr/>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <div class="card">
                        <cc:insertChildren></cc:insertChildren>
                    </div>
                </div>    
            </div>  

        </div>
    </cc:implementation>
</html>
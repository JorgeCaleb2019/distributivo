<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <body>
        <p:dialog id="dlgInformacion" widgetVar="dlgInformacion" header="Información de Usuarios" modal="true" width="600">
            <h:form id="formDatos">
                <h:panelGrid columns="1">
                    <div style="text-align: center">
                        <h:panelGrid columns="6" style="width: 20%" id="botones">
                            <p:commandButton id="guardar" value="Guardar" disabled="#{usuarioBean.botonGuardar}" actionListener="#{usuarioBean.guardarEntidad(evt)}" update=":mensaje datos :formPrincipal:listado">
                                <p:confirm header="Confirmación" message="Esta seguro que desea realizar la Acción" icon="ui-icon-alert" />
                            </p:commandButton>
                            <p:commandButton  value="Editar" disabled="#{usuarioBean.botonEditar}"  actionListener="#{usuarioBean.prepararEditar(evt)}" update="datos :formDatos:botones"/>
                            <p:commandButton styleClass="btn btn-danger rounded" value="Anular" disabled="#{usuarioBean.botonEliminar}"  actionListener="#{usuarioBean.anularEntidad(evt)}" update=":mensaje datos :formPrincipal:listado :formDatos:botones">
                                <p:confirm header="Confirmación" message="Esta seguro que desea Eliminar el Usuario" icon="ui-icon-alert" />
                            </p:commandButton>
                            <p:commandButton id="bloquear"  value="Cancelar" disabled="#{usuarioBean.botonBloquear}" actionListener="#{usuarioBean.bloquearEntidad(evt)}" update="datos :formDatos:botones"/>
                            <p:commandButton type="button" value="Salir" id="salir" onclick="PF('dlgInformacion').hide()"/>
                            <p:tooltip for="salir" value="Cerrar Pantalla" hideEffect="clip"/>
                            <p:tooltip for="bloquear" value="Bloquear Datos" hideEffect="clip"/>
                        </h:panelGrid>
                    </div>
                    <h:panelGrid columns="2" id="datos">
                        <p:tabView id="datosUsuario">
                            <p:tab title="Detalles de Cuenta">
                                <h:panelGrid  columns="3"  cellpadding="10" cellspacing="10">  
                                    <p:outputLabel value="Usuario" for="txtlogin" />
                                    <p:inputText id="txtlogin" readonly="#{usuarioBean.readOnly}" value="#{usuarioBean.entidad.nickUsua}" required="true"/>
                                    <p:column/>
                                    <p:outputLabel value="Nombres" for="txtnombres" />
                                    <p:inputText id="txtnombres" readonly="#{usuarioBean.readOnly}" value="#{usuarioBean.entidad.nombresUsua}" required="true"/>
                                    <p:column/>
                                    <p:outputLabel value="Apellidos" for="txtapellidos" />
                                    <p:inputText id="txtapellidos" readonly="#{usuarioBean.readOnly}" value="#{usuarioBean.entidad.apellidosUsua}" />
                                    <p:column/>
                                    <p:outputLabel for="txtmal" value="E-mail" />
                                    <p:inputText id="txtmal" readonly="#{usuarioBean.readOnly}" value="#{usuarioBean.entidad.emailUsua}" style="width: 300px" />
                                </h:panelGrid> 
                            </p:tab>
                            <p:tab title="Roles de Usuario">
                                <p:dataTable value="#{usuarioBean.entidad.rolList}" var="rol"   style="width: 100%">
                                    <p:column headerText="Usuario">
                                        <h:outputText value="#{rol.nombreUsuario}" />
                                    </p:column>
                                    <p:column headerText="Descripción">
                                        <h:outputText value="#{rol.descripcionUsuario}" />
                                    </p:column>
                                </p:dataTable>    
                            </p:tab>
                        </p:tabView>
                    </h:panelGrid>

                </h:panelGrid>
            </h:form>
        </p:dialog>
    </body>
</html>

